<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="stylesheet" href="style/style.css">
        <title>PoPShark</title>
    </head>
    <body>
        <div class="cat-container">
            <div class="count">
                0
            </div>

            <div class="popcat">
                <img id="gura" class="responsive" style="visibility: visible;" src="image/gura_.png"  onclick="pop()">
                <img id="popgura" class="responsive" style="visibility: hidden;" src="image/popgura_.png" height="480px" width="720px" >
            </div>
        </div>
        <!-- <button onclick="myFunction()">Try it</button> -->
    </body>

    <script>
        document.onselectstart = function(){
            event.returnValue = false;　//選取事件取消
        }
        oncontextmenu="return false;";

        document.addEventListener('mousedown', pop);
        document.addEventListener('keydown', pop);
        document.addEventListener('pointerdown', pop);

        document.addEventListener('mouseup', notpop);
        document.addEventListener('keyup', notpop);
        document.addEventListener('pointerup', notpop);

        var popsound = new Audio('sound/pop.mp3');
        let cond = 0 ;
        let counter = 0;

        // windows.onload = ()=>{
        //     document.getElementsByClassName('count')[0].innerHTML = counter;
        // }

        function pop(){
            if(cond == 0){
                popsound.play();
                let gura = document.getElementById("gura");
                let popgura = document.getElementById("popgura");
                gura.style = "visibility: hidden;";
                popgura.style = "visibility: visible;";
                cond = 1;
                counter++;
            }
            document.getElementsByClassName('count')[0].innerHTML = counter;
        }

        function notpop(){
            let gura = document.getElementById("gura");
            let popgura = document.getElementById("popgura");
            gura.style = "visibility: visible;";
            popgura.style = "visibility: hidden;";
            cond = 0;
        }
    </script>
</html>